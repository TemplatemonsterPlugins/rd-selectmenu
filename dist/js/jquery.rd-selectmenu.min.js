/*
 MIT License
*/
(function(){(function(b,h,g){var f,e;e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);f=function(){function d(a,c){this.options=b.extend(!0,{},this.Defaults,c);this.$element=b(a);this.$wrap=this.$element.wrap('<div class="rd-select"></div>').parent();this.$pseudoOptions=this.$pseudoValue=null;this.$win=b(g);this.$doc=b(h);this.initialize()}d.prototype.Defaults={valueIconClass:"rd-select-value-icon fa-angle-down",callbacks:null};d.prototype.initialize=function(){this.hideOriginalDOM();
this.createPseudoDOM();this.applyHandlers();return this};d.prototype.createPseudoDOM=function(){var a;a=this;a.$pseudoValue=b("<div/>",{"class":"rd-select-trigger "+a.$element.get(0).className}).append('<span class="rd-select-value">'+a.$element.find("option:selected").text()+"</span>").append('<span class="'+a.options.valueIconClass+'"></span>');a.$pseudoOptions=b("<ul/>",{"class":"rd-select-menu"});a.$element.find("option").each(function(){var c;c=b(this);return a.$pseudoOptions.append(b("<li/>",
{"class":"rd-select-option",text:c.text()}).addClass(c.is(":selected")?"selected":!1))});a.$wrap.append(a.$pseudoValue).append(a.$pseudoOptions);return a};d.prototype.hideOriginalDOM=function(){this.$element.css({position:"absolute",margin:0,padding:0,top:0,left:0,width:e?"100%":0,height:e?"100%":0,border:"none",overflow:"hidden",opacity:0,"z-index":e?9999999:-9999999});return this};d.prototype.open=function(){this.$wrap.addClass("rd-select-open");this.$element.is(":focus")||this.$element.focus();
return this};d.prototype.close=function(){this.$wrap.removeClass("rd-select-open");return this};d.prototype.change=function(a,c){var d;d=b(this);a.$element.val(d.text()).trigger("change").trigger("propertychange").focus();"click"===c.type&&b.proxy(a.close,a)();return this};d.prototype.originalChange=function(){this.$pseudoValue.find(".rd-select-value").text(this.$element.val());this.$pseudoOptions.find(".rd-select-option").eq(this.$element.find("option:selected").index()).addClass("selected").siblings().removeClass("selected");
return this};d.prototype.keyDown=function(a){var c;switch(a.keyCode){case 32:case 37:case 39:a.preventDefault();break;case 38:a.preventDefault();c=this.$pseudoOptions.find(".rd-select-option.selected").prev();c.length&&b.proxy(this.change,c[0],this)(a);break;case 40:a.preventDefault();c=this.$pseudoOptions.find(".rd-select-option.selected").next();c.length&&b.proxy(this.change,c[0],this)(a);break;case 13:a.preventDefault(),this.$wrap.hasClass("rd-select-open")?b.proxy(this.close,this)():b.proxy(this.open,
this)()}};d.prototype.applyHandlers=function(){var a;a=this;e||(a.$element.on("focus",b.proxy(a.open,a)),a.$doc.find("*").on("focus",function(c){c=c.target;if(c!==a.$element[0]&&!b(c).parents(".rd-select-menu").length)return b.proxy(a.close,a)()}),a.$element.on("keydown",b.proxy(a.keyDown,a)),a.$pseudoValue.on("click",b.proxy(a.open,a)),a.$pseudoOptions.find("li").each(function(){return b(this).on("click",b.proxy(a.change,this,a))}),a.$doc.on("click",function(c){c=c.target;if(c!==a.$wrap[0]&&!b(c).parents(".rd-select").length)return b.proxy(a.close,
a)()}));a.$element.on("change propertychange",b.proxy(a.originalChange,a));return a};return d}();b.fn.extend({RDSelectMenu:function(d){return this.each(function(){var a;a=b(this);if(!a.data("RDSelectMenu"))return a.data("RDSelectMenu",new f(this,d))})}});return g.RDSelectMenu=f})(window.jQuery,document,window);"undefined"!==typeof module&&null!==module?module.exports=window.RDSelectMenu:"function"===typeof define&&define.amd&&define(["jquery"],function(){return window.RDSelectMenu})}).call(this);
